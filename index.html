<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Le Piano Ivre - Synesthesia Archive</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>&#x1f3b9;</text></svg>">
<style>
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;1,400&display=swap');
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background: #010138;
    color: #e0e0ff;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    padding: 2rem 1rem;
}
.card {
    max-width: 600px;
    width: 100%;
    background: linear-gradient(135deg, rgba(5,3,69,0.97), rgba(2,1,50,0.98));
    border: 1px solid #1E3542;
    border-radius: 12px;
    padding: 2.5rem 2rem;
    box-shadow: 0 8px 40px rgba(0,0,0,0.5);
}
h1 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 2rem;
    font-weight: 400;
    letter-spacing: 0.3em;
    color: #fe4791;
    text-align: center;
    margin-bottom: 0.3rem;
}
.tagline {
    font-style: italic;
    font-size: 0.85rem;
    color: rgba(254,71,145,0.5);
    letter-spacing: 0.2em;
    text-align: center;
    margin-bottom: 1.5rem;
}
.intro {
    font-size: 0.95rem;
    line-height: 1.7;
    color: rgba(224,224,255,0.8);
    margin-bottom: 1.5rem;
}
.intro a { color: #535de6; text-decoration: none; }
.intro a:hover { color: #60A5FA; }
.intro em { color: rgba(224,224,255,0.6); }
h2 {
    font-size: 0.7rem;
    font-weight: 600;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: #fe4791;
    margin-bottom: 0.8rem;
    margin-top: 1.5rem;
}
.entry {
    display: block;
    padding: 0.6rem 0;
    border-bottom: 1px solid #1E3542;
    color: #535de6;
    text-decoration: none;
    font-size: 0.95rem;
    transition: color 0.2s;
}
.entry:hover { color: #60A5FA; }
#loading {
    font-style: italic;
    color: rgba(224,224,255,0.4);
    text-align: center;
    padding: 1.5rem 0;
    font-size: 0.9rem;
}
#error {
    color: #fe4791;
    text-align: center;
    padding: 1rem 0;
    display: none;
    font-size: 0.9rem;
}
.footer {
    text-align: center;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid #1E3542;
}
.footer a {
    color: #535de6;
    text-decoration: none;
    font-size: 0.85rem;
}
.footer a:hover { color: #60A5FA; }
</style>
</head>
<body>
<div class="card">
    <h1>LE PIANO IVRE</h1>
    <p class="tagline">get a sip of music</p>

    <div class="intro">
        <p>This is the synesthesia archive of <a href="https://cedriccolas.com/project/pianocktail">Le Piano Ivre</a>,
        a pianocktail that transforms piano music into cocktail recipes.</p>
        <br>
        <p>Each entry below is a unique moment where music became taste. When someone plays piano
        (or uploads a recording), <em>Le Piano Ivre</em> analyzes the music and creates a
        corresponding cocktail recipe capturing the mood of the song.</p>
        <br>
        <p>Inspired by Boris Vian's novel <em>L'&Eacute;cume des jours</em> (1947), which features
        a pianocktail &mdash; a piano that mixes drinks based on the music played.</p>
    </div>

    <h2>Past synesthesias</h2>
    <div id="list"></div>
    <div id="loading">Loading&hellip;</div>
    <div id="error"></div>

    <div class="footer">
        <a href="https://cedriccolas.com/project/pianocktail">cedriccolas.com/project/pianocktail</a>
        &nbsp;&middot;&nbsp;
        <a href="https://cedriccolas.com">cedriccolas.com</a>
    </div>
</div>
<script>
(function() {
    const API = 'https://api.github.com/repos/ccolas/piano-ivre-synesthesia/contents/';
    const datePattern = /^\d{4}-\d{2}-\d{2}_\d{2}-\d{2}-\d{2}$/;
    const listEl = document.getElementById('list');
    const loadingEl = document.getElementById('loading');
    const errorEl = document.getElementById('error');

    fetch(API)
        .then(r => { if (!r.ok) throw new Error(r.status); return r.json(); })
        .then(items => {
            const folders = items
                .filter(i => i.type === 'dir' && datePattern.test(i.name))
                .sort((a, b) => b.name.localeCompare(a.name));

            loadingEl.style.display = 'none';

            if (folders.length === 0) {
                errorEl.textContent = 'No synesthesias yet.';
                errorEl.style.display = 'block';
                return;
            }

            folders.forEach(f => {
                const a = document.createElement('a');
                a.className = 'entry';
                a.href = f.name + '/';
                const parts = f.name.split('_');
                const datePart = parts[0].replace(/-/g, '/');
                const timePart = parts[1].replace(/-/g, ':');
                a.textContent = datePart + ' â€” ' + timePart;
                listEl.appendChild(a);
            });
        })
        .catch(err => {
            loadingEl.style.display = 'none';
            errorEl.textContent = 'Could not load synesthesias.';
            errorEl.style.display = 'block';
        });
})();
</script>
</body>
</html>